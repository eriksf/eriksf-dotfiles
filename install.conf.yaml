- defaults:
    link:
      create: true
      relink: true
    shell:
      stderr: true

- clean: ['~', '~/.oh-my-zsh/custom/', '~/.oh-my-zsh/custom/plugins/']

- shell:
  - [sh pre-install.sh, Running pre installation script]
  - [mkdir -p ~/.oh-my-zsh/custom/, Creating oh-my-zsh custom folders]
  - [mkdir -p ~/.oh-my-zsh/custom/plugins, Creating oh-my-zsh custom plugins folders]
  - [brew bundle, Installing Homebrew formulas from Brewfile]

- link:
    ~/.dotfiles: ''
    ~/.iterm2_shell_integration.zsh: iterm/iterm2_shell_integration.zsh
    ~/.tmux.conf: tmux.conf
    ~/.dircolors: dircolors-solarized
    ~/bin: bin/
    ~/.vim: vim/
    ~/.zlogin:
      force: true
      path: zlogin
    ~/.zprofile:
      force: true
      path: zprofile
    ~/.zshenv:
      force: true
      path: zshenv
    ~/.zshrc:
      force: true
      path: zshrc
    ~/.zshrc_local_after: zshrc_local_after
    ~/.gitconfig: gitconfig
    ~/.gitmessage: gitmessage
    ~/.oh-my-zsh/custom/plugins/zsh-completions: oh-my-zsh/custom/plugins/zsh-completions/
    ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting: oh-my-zsh/custom/plugins/zsh-syntax-highlighting/
    ~/.oh-my-zsh/custom/themes/powerlevel10k: oh-my-zsh/custom/themes/powerlevel10k/
    ~/.motd: my_motd.sh
    ~/Brewfile: Brewfile
    ~/.vimrc: vimrc
    ~/.macos: macos
    ~/.tidy_config.txt: tidy_config.txt

- shell:
  - [sh fonts/install.sh, Installing Powerline fonts]
  - [sh ~/.macos, Customizing MacOS environment]
  - [/usr/local/bin/code --install-extension "Shan.code-settings-sync", Install VSCode Sync Settings]
  - [sh post-install.sh, Running post installation script]
